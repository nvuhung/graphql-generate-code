(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{169:function(e,n,t){e.exports=t(328)},215:function(e,n,t){},220:function(e,n){},221:function(e,n){},222:function(e,n){},226:function(e,n){},228:function(e,n){},262:function(e,n){},263:function(e,n){},328:function(e,n,t){"use strict";t.r(n);var r=t(5),a=t.n(r),o=t(66),i=t.n(o),c=t(94),u=t.n(c),l=t(97),s=t(160),f=t(67),h=t(68),p=t(71),d=t(69),m=t(72),v=t(12),y=t(161),b=t(167),g=t(166),x=t(70),S=(t(215),x),E=S.default,j=(S.css,S.createGlobalStyle,S.keyframes,S.ThemeProvider),k=E;function O(){var e=Object(v.a)(["\n  border: 1px solid;\n  border-color: ",";\n  border-radius: 40px;\n  height: 35px;\n  padding: 4px 15px;\n  width: 100%;\n  font-size: 14px;\n\n  &:focus {\n    outline: none;\n  }\n"]);return O=function(){return e},e}var w=k.input(O(),function(e){return e.theme.primaryColor}),T={primaryColor:"#2185d0",secondaryColor:"#53b5ff",borderColor:"#ccc"};function C(){var e=Object(v.a)(["\n  outline: none;\n  box-shadow: none;\n  border-radius: 50%;\n  cursor: pointer;\n  border: solid 1px red;\n  color: red;\n  width: 20px;\n  height: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return C=function(){return e},e}function q(){var e=Object(v.a)(["\n  cursor: pointer;\n  padding: 10px 20px;\n  background-color: ",";\n  color: #fff;\n  text-align: center;\n  line-height: 14px;\n  border-radius: 40px;\n  border: none;\n  font-size: 16px;\n  font-weight: 600;\n  margin-left: 10px;\n\n  &:hover {\n    background-color: ",";\n  }\n\n  &:focus {\n    outline: none;\n  }\n"]);return q=function(){return e},e}var N=k.input(q(),function(e){return e.theme.primaryColor},function(e){return e.theme.secondaryColor}),L=k.input(C()),H=function(e){return"ofType"in e},I=function(e){return"ofType"in e},R=function(e){return"name"in e},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.filter(function(e){return e.name.toLowerCase().includes(n.toLowerCase())})};function B(){var e=Object(v.a)(["\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n"]);return B=function(){return e},e}var D=k.ul(B());function F(){var e=Object(v.a)(["\n  padding: 10px;\n  cursor: pointer;\n  border-bottom: solid 1px;\n  border-color: ",";\n  display: flex;\n  justify-content: space-between;\n\n  &:hover,\n  &.active {\n    background-color: ",";\n    color: #fff;\n  }\n"]);return F=function(){return e},e}var z=k("li")(F(),function(e){return e.theme.borderColor},function(e){return e.theme.secondaryColor});function G(){var e=Object(v.a)(["\n  border-top: solid 1px;\n  border-color: ",";\n"]);return G=function(){return e},e}var Q=k(D)(G(),function(e){return e.theme.borderColor}),J=function(e){var n=e.histories,t=e.uri,r=e.onSelect,o=e.onRemove;return a.a.createElement(Q,null,n.map(function(e){return a.a.createElement(z,{key:e,onClick:function(){return r(e)},className:e===t?"active":""},a.a.createElement("span",null,e),a.a.createElement(L,{type:"button",value:"X",onClick:function(n){n.stopPropagation(),o(e)}}))}))};function V(){var e=Object(v.a)(["\n  font-weight: 600;\n  text-transform: uppercase;\n  padding: 10px;\n  flex: 0 1 auto;\n  background-color: #eeeeee;\n"]);return V=function(){return e},e}function W(){var e=Object(v.a)(["\n  display: flex;\n  flex-flow: column;\n  height: 50%;\n  border-top: solid ",";\n  border-width: ",";\n"]);return W=function(){return e},e}function M(){var e=Object(v.a)(["\n  width: 100%;\n"]);return M=function(){return e},e}function $(){var e=Object(v.a)(["\n  height: calc(100vh - 85px);\n  border: solid 1px #ccc;\n  margin: 20px;\n  margin-top: 0;\n  border-radius: 10px;\n"]);return $=function(){return e},e}var P=k.div($()),U=k.div(M()),Y=k("div")(W(),function(e){return e.theme.borderColor},function(e){return e.hasBorder?"1px":0}),A=k.div(V());function X(){var e=Object(v.a)(["\n  flex: 1 1 auto;\n  overflow: auto;\n"]);return X=function(){return e},e}function K(){var e=Object(v.a)(["\n  height: calc(100% - 55px);\n"]);return K=function(){return e},e}var Z=k.div(K()),ee=k(D)(X()),ne=function(e){var n=e.type,t=e.hasBorder,r=e.list,o=e.onSelect,i=e.schemaType,c=e.schemaNameSelected;return a.a.createElement(Y,{hasBorder:t},a.a.createElement(A,null,n," (",r.length,")"),a.a.createElement(ee,null,r.map(function(e){return a.a.createElement(z,{onClick:function(){return o(n,e)},key:e.name,className:i===n&&c===e.name?"active":""},e.name)})))},te=function(e){var n=e.queries,t=e.mutations,r=e.onSelect,o=e.schemaType,i=e.schemaNameSelected;return a.a.createElement(Z,null,a.a.createElement(ne,{schemaType:o,schemaNameSelected:i,type:"query",list:n,onSelect:r}),a.a.createElement(ne,{schemaType:o,schemaNameSelected:i,hasBorder:!0,type:"mutation",list:t,onSelect:r}))};function re(){var e=Object(v.a)(["\n  text-align: center;\n  height: 50px;\n"]);return re=function(){return e},e}var ae=k.div(re()),oe=function(){return a.a.createElement(ae,null,a.a.createElement("h1",null,"GraphQL Generate Code"))};function ie(){var e=Object(v.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 10px;\n  background-color: #eee;\n  border-top-left-radius: 10px;\n"]);return ie=function(){return e},e}var ce=k.form(ie()),ue=function(e){function n(e){var t;return Object(f.a)(this,n),(t=Object(p.a)(this,Object(d.a)(n).call(this,e))).elementRef=void 0,t.editor=void 0,t.cachedValue=void 0,t.cachedValue=e.value||"",t}return Object(m.a)(n,e),Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=t(115);t(217);var n=this.props.value;this.editor=e(this.elementRef,{mode:"javascript",theme:"default",lineNumbers:!0,readOnly:!0,value:n})}},{key:"componentDidUpdate",value:function(e){if(this.props.value!==e.value&&this.props.value!==this.cachedValue){var n=this.props.value||"";this.cachedValue=n,this.editor.setValue(n)}}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{style:{height:"calc(100% - 38px)"},ref:function(n){return e.elementRef=n}})}}]),n}(a.a.Component),le=t(165),se=t(219).json2ts,fe=t(324),he=t(325),pe=t(326),de=t(327),me={Int:0,Float:0,String:"String",Boolean:!0,ID:"String",Date:"String",Email:"String"};function ve(e){var n=e.type;return n?I(n)&&R(n.ofType)?n.ofType._fields:n._fields:null}function ye(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0,r=Object.keys(e),a={};try{return r.forEach(function(r){var o=e[r].name,i=ve(e[r]),c=function(e){var n=e.type;return n?I(n)&&R(n.ofType)?n.ofType.name:n.name:null}(e[r]);if(i){if(!n.find(function(e){return e.schemaName===c&&e.parentIndex!==t})){var u=(t||0)+1;n.push({schemaName:c,parentIndex:t||0,index:u}),a[o]=ye(i,n,u)}}else{var l=me[e[r].type.name];a[o]=l||"String"}}),a}catch(o){return{}}}function be(e,n){var t=n.name,r=function(e){var n=e.args;if(n&&n.length){var t=n.map(function(e){var n=e.type,t="";return n&&(t="$".concat(e.name,": ").concat(n.ofType?n.ofType:n.name),H(e.type)&&(t+="!")),t}).join("\n");return t?"(".concat(t,")"):t}return""}(n),a=function(e){var n=e.args;if(n&&n.length){var t=n.map(function(e){return"".concat(e.name,": $").concat(e.name)}).join("\n");return t?"(".concat(t,")"):t}return""}(n),o=ve(n),i={},c="";o&&(i=ye(o),c="{ ".concat(Object(le.jsonToGraphQLQuery)(i)," }"));var u,l="\n    const ".concat(t," = { ").concat(t,": gql`\n      ").concat(e," ").concat(t,"\n        ").concat(r," {\n          ").concat(t,"\n          ").concat(a,"\n          ").concat(c,"\n      }\n      `\n  }");return{graphql:(u=l,fe.format(u,{parser:"babel",printWidth:40,plugins:[he,pe]})),typescript:function(e){return fe.format(e,{parser:"typescript",printWidth:40,plugins:[de]})}(se(JSON.stringify(i)))}}function ge(){var e=Object(v.a)(["\n  font-weight: 600;\n  font-size: 16px;\n  text-transform: uppercase;\n  padding: 10px;\n  background-color: #eee;\n"]);return ge=function(){return e},e}x.default.div(ge());var xe=function(e){function n(){var e,t;Object(f.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(p.a)(this,(e=Object(d.a)(n)).call.apply(e,[this].concat(a)))).state={uri:"",schema:null,queries:[],mutations:[],histories:[],graphql:"",typescript:"",schemaSelected:null,schemaType:null,textSearchSchema:""},t}return Object(m.a)(n,e),Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("HISTORY");e&&this.setState({histories:JSON.parse(e)})}},{key:"showLinkError",value:function(){alert("Link is invalid")}},{key:"updateHistory",value:function(e){this.setState({histories:e}),localStorage.setItem("HISTORY",JSON.stringify(e))}},{key:"addHistory",value:function(e){var n=this.state.histories;n.includes(e)||(n.unshift(e),this.updateHistory(n))}},{key:"removeHistory",value:function(e){var n=this.state.histories,t=n.findIndex(function(n){return n===e});t>-1&&(n.splice(t,1),this.updateHistory(n))}},{key:"handleSubmit",value:function(){var e=Object(s.a)(u.a.mark(function e(n){var t,r,a,o,i,c,s,f;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((u=n)&&u.includes("http")&&u.includes("/graphql")){e.next=3;break}return this.showLinkError(),e.abrupt("return");case 3:return this.setState({uri:n}),t=new b.a({uri:n,fetch:fetch}),e.prev=5,e.next=8,Object(y.introspectSchema)(t);case 8:r=e.sent,i=r.getQueryType(),c=r.getMutationType(),i||c?(this.addHistory(n),i&&(s=i.getFields(),a=Object.keys(s).map(function(e){return Object(l.a)({},s[e])})),c&&(f=c.getFields(),o=Object.keys(f).map(function(e){return Object(l.a)({},f[e])})),this.setState({schema:r,queries:a,mutations:o})):this.showLinkError(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),this.showLinkError();case 17:case"end":return e.stop()}var u},e,this,[[5,14]])}));return function(n){return e.apply(this,arguments)}}()},{key:"_renderResult",value:function(){var e=this.state,n=e.graphql,t=e.typescript;return a.a.createElement("div",{style:{height:"100%"}},a.a.createElement(Y,null,a.a.createElement(A,null,"GraphQL"),a.a.createElement(ue,{value:n})),a.a.createElement(Y,null,a.a.createElement(A,null,"Typescript"),a.a.createElement(ue,{value:t})))}},{key:"_renderHistory",value:function(){var e=this,n=this.state,t=n.histories,r=n.uri;return a.a.createElement(J,{histories:t,uri:r,onSelect:function(n){return e.handleSubmit(n)},onRemove:function(n){return e.removeHistory(n)}})}},{key:"_renderForm",value:function(){var e=this,n=this.state.uri;return a.a.createElement(ce,{onSubmit:function(t){t.preventDefault(),e.handleSubmit(n)}},a.a.createElement(w,{placeholder:"GraphQL URL...",value:n,onChange:function(n){return e.setState({uri:n.target.value})}}),a.a.createElement(N,{type:"submit",value:"Submit"}))}},{key:"_renderSchema",value:function(){var e=this,n=this.state,t=n.queries,r=n.mutations,o=n.textSearchSchema,i=n.schemaSelected,c=n.schemaType,u=_(t,o),l=_(r,o);return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{padding:10,display:"flex"}},a.a.createElement(w,{placeholder:"Search schema...",value:o,onChange:function(n){return e.setState({textSearchSchema:n.target.value})}})),a.a.createElement(te,{schemaNameSelected:i&&i.name||"",schemaType:c||"",queries:u,mutations:l,onSelect:function(n,t){return e.setState({schemaType:n,schemaSelected:t},function(){var r=be(n,t),a=r.graphql,o=r.typescript;e.setState({graphql:a,typescript:o})})}}))}},{key:"render",value:function(){return a.a.createElement(j,{theme:T},a.a.createElement(a.a.Fragment,null,a.a.createElement(oe,null),a.a.createElement(P,null,a.a.createElement(g.a,{style:{display:"flex",flexDirection:"row",height:"100%"},direction:"horizontal",minSize:320,sizes:[33,33,34]},a.a.createElement(U,null,this._renderForm(),this._renderHistory()),a.a.createElement(U,null,this._renderSchema()),a.a.createElement(U,null,this._renderResult())))))}}]),n}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(xe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[169,1,2]]]);
//# sourceMappingURL=main.315c4758.chunk.js.map