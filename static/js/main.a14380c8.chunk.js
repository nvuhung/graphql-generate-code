(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{169:function(e,n,t){e.exports=t(328)},215:function(e,n,t){},219:function(e,n){},220:function(e,n){},221:function(e,n){},225:function(e,n){},227:function(e,n){},261:function(e,n){},262:function(e,n){},328:function(e,n,t){"use strict";t.r(n);var r=t(5),a=t.n(r),o=t(66),i=t.n(o),c=t(93),u=t.n(c),l=t(96),s=t(160),f=t(67),p=t(68),d=t(70),h=t(69),m=t(71),v=t(161),y=t(167),b=t(97),g=(t(215),t(14)),x=t(163),E=x.default,j=(x.css,x.createGlobalStyle,x.keyframes,x.ThemeProvider),k=E;function O(){var e=Object(g.a)(["\n  border: 1px solid;\n  border-color: ",";\n  border-radius: 40px;\n  height: 24px;\n  padding: 4px 15px;\n  width: 100%;\n  font-size: 14px;\n\n  &:focus {\n    outline: none;\n  }\n"]);return O=function(){return e},e}var S=k.input(O(),function(e){return e.theme.primaryColor}),w={primaryColor:"#2185d0",secondaryColor:"#53b5ff",borderColor:"#ccc"};function C(){var e=Object(g.a)(["\n  outline: none;\n  box-shadow: none;\n  border-radius: 50%;\n  cursor: pointer;\n  border: solid 1px red;\n  color: red;\n  width: 20px;\n  height: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return C=function(){return e},e}function T(){var e=Object(g.a)(["\n  cursor: pointer;\n  padding: 10px 20px;\n  background-color: ",";\n  color: #fff;\n  text-align: center;\n  line-height: 14px;\n  border-radius: 40px;\n  border: none;\n  font-size: 16px;\n  font-weight: 600;\n  margin-left: 10px;\n\n  &:hover {\n    background-color: ",";\n  }\n\n  &:focus {\n    outline: none;\n  }\n"]);return T=function(){return e},e}var H=k.input(T(),function(e){return e.theme.primaryColor},function(e){return e.theme.secondaryColor}),L=k.input(C()),R=function(e){return"ofType"in e},_=function(e){return"ofType"in e},q=function(e){return"name"in e},D=t(166),I=t(218).json2ts,B=t(323),F=t(324),G=t(325),Q=t(326),z={Int:0,Float:0,String:"String",Boolean:!0,ID:"String",Date:"String",Email:"String"};function J(e){var n=e.type;return n?_(n)&&q(n.ofType)?n.ofType._fields:n._fields:null}function N(e){var n=Object.keys(e),t={};try{return n.forEach(function(n){var r=e[n].name,a=J(e[n]);if(a)t[r]=N(a);else{var o=z[e[n].type.name];t[r]=o||"String"}}),t}catch(r){return{}}}function V(e,n){var t,r=n.name,a=function(e){var n=e.args;if(n&&n.length){var t=n.map(function(e){var n=e.type,t="";return n&&(t="$".concat(e.name,": ").concat(n.ofType?n.ofType:n.name),R(e.type)&&(t+="!")),t}).join("\n");return t?"(".concat(t,")"):t}return""}(n),o=function(e){var n=e.args;if(n&&n.length){var t=n.map(function(e){return"".concat(e.name,": $").concat(e.name)}).join("\n");return t?"(".concat(t,")"):t}return""}(n),i=function(e){try{var n=J(e);if(n){var t=N(n),r=Object(D.jsonToGraphQLQuery)(t);return"{ ".concat(r," }")}return""}catch(a){return""}}(n),c="\n    const ".concat(r," = { ").concat(r,": gql`\n      ").concat(e," ").concat(r,"\n        ").concat(a," {\n          ").concat(r,"\n          ").concat(o,"\n          ").concat(i,"\n      }\n      `\n  }");return t=c,B.format(t,{parser:"babel",printWidth:40,plugins:[F,G]})}function W(e){var n,t=J(e);if(t){var r=N(t),a=I(JSON.stringify(r));return n=a,B.format(n,{parser:"typescript",printWidth:40,plugins:[Q]})}return""}function A(){var e=Object(g.a)(["\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n"]);return A=function(){return e},e}var M=k.ul(A());function $(){var e=Object(g.a)(["\n  border-top: solid 1px;\n  border-color: ",";\n"]);return $=function(){return e},e}function P(){var e=Object(g.a)(["\n  padding: 10px;\n  border-bottom: solid 1px;\n  border-color: ",";\n  display: flex;\n  justify-content: space-between;\n  color: ",";\n\n  &:hover {\n    background-color: ",";\n    cursor: pointer;\n    color: #fff;\n  }\n"]);return P=function(){return e},e}var U=k("li")(P(),function(e){return e.theme.borderColor},function(e){return e.isActive?e.theme.primaryColor:"#000"},function(e){return e.theme.secondaryColor}),Y=k(M)($(),function(e){return e.theme.borderColor}),X=function(e){var n=e.histories,t=e.uri,r=e.onSelect,o=e.onRemove;return a.a.createElement(Y,null,n.map(function(e){return a.a.createElement(U,{key:e,onClick:function(){return r(e)},isActive:e===t},a.a.createElement("span",null,e),a.a.createElement(L,{type:"button",value:"X",onClick:function(n){n.stopPropagation(),o(e)}}))}))};function K(){var e=Object(g.a)(["\n  padding: 10px;\n\n  &:hover {\n    background-color: ",";\n    cursor: pointer;\n    color: #fff;\n  }\n"]);return K=function(){return e},e}function Z(){var e=Object(g.a)(["\n  flex: 1 1 auto;\n  overflow: auto;\n"]);return Z=function(){return e},e}function ee(){var e=Object(g.a)(["\n  color: rgba(0, 0, 0, 0.3);\n  cursor: default;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n  user-select: none;\n  padding: 10px;\n  flex: 0 1 auto;\n"]);return ee=function(){return e},e}function ne(){var e=Object(g.a)(["\n  display: flex;\n  flex-flow: column;\n  height: 50%;\n  border-top: solid ",";\n  border-width: ",";\n"]);return ne=function(){return e},e}function te(){var e=Object(g.a)(["\n  height: 100%;\n"]);return te=function(){return e},e}var re=k.div(te()),ae=k("div")(ne(),function(e){return e.theme.borderColor},function(e){return e.hasBorder?"1px":0}),oe=k.div(ee()),ie=k(M)(Z()),ce=k.li(K(),function(e){return e.theme.secondaryColor}),ue=function(e){var n=e.type,t=e.hasBorder,r=e.list,o=e.onSelect;return a.a.createElement(ae,{hasBorder:t},a.a.createElement(oe,null,n," (",r.length,")"),a.a.createElement(ie,null,r.map(function(e){return a.a.createElement(ce,{onClick:function(){return o(n,e)},key:e.name},e.name)})))},le=function(e){var n=e.queries,t=e.mutations,r=e.onSelect;return a.a.createElement(re,null,a.a.createElement(ue,{type:"query",list:n,onSelect:r}),a.a.createElement(ue,{hasBorder:!0,type:"mutation",list:t,onSelect:r}))};function se(){var e=Object(g.a)(["\n  text-align: center;\n  height: 60px;\n"]);return se=function(){return e},e}var fe=k.div(se()),pe=function(){return a.a.createElement(fe,null,a.a.createElement("h1",null,"GraphQL Generate Code"))};function de(){var e=Object(g.a)(["\n  width: 100%;\n"]);return de=function(){return e},e}function he(){var e=Object(g.a)(["\n  height: calc(100vh - 140px);\n  border: solid 1px #ccc;\n  margin: 20px;\n  border-radius: 10px;\n"]);return he=function(){return e},e}var me=k.div(he()),ve=k.div(de());function ye(){var e=Object(g.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 10px;\n  background-color: #eee;\n  border-top-left-radius: 10px;\n"]);return ye=function(){return e},e}var be=k.form(ye()),ge=function(e){function n(e){var t;return Object(f.a)(this,n),(t=Object(d.a)(this,Object(h.a)(n).call(this,e))).elementRef=void 0,t.editor=void 0,t.cachedValue=void 0,t.cachedValue=e.value||"",t}return Object(m.a)(n,e),Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=t(159);t(327);var n=this.props.value;this.editor=e(this.elementRef,{mode:"javascript",theme:"default",lineNumbers:!0,readOnly:!0,value:n})}},{key:"componentDidUpdate",value:function(e){if(this.props.value!==e.value&&this.props.value!==this.cachedValue){var n=this.props.value||"";this.cachedValue=n,this.editor.setValue(n)}}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{ref:function(n){return e.elementRef=n}})}}]),n}(a.a.Component),xe=function(e){function n(){var e,t;Object(f.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(d.a)(this,(e=Object(h.a)(n)).call.apply(e,[this].concat(a)))).state={uri:"",schema:null,queries:[],mutations:[],histories:[],schemaTemplate:"",typescript:"",schemaSelected:null,schemaType:null},t}return Object(m.a)(n,e),Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("HISTORY");e&&this.setState({histories:JSON.parse(e)})}},{key:"showLinkError",value:function(){alert("Link is invalid")}},{key:"updateHistory",value:function(e){this.setState({histories:e}),localStorage.setItem("HISTORY",JSON.stringify(e))}},{key:"addHistory",value:function(e){var n=this.state.histories;n.includes(e)||(n.unshift(e),this.updateHistory(n))}},{key:"removeHistory",value:function(e){var n=this.state.histories,t=n.findIndex(function(n){return n===e});t>-1&&(n.splice(t,1),this.updateHistory(n))}},{key:"handleSubmit",value:function(){var e=Object(s.a)(u.a.mark(function e(n){var t,r,a,o,i,c,s,f;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((u=n)&&u.includes("http")&&u.includes("/graphql")){e.next=3;break}return this.showLinkError(),e.abrupt("return");case 3:return this.setState({uri:n}),t=new y.a({uri:n,fetch:fetch}),e.prev=5,e.next=8,Object(v.introspectSchema)(t);case 8:r=e.sent,i=r.getQueryType(),c=r.getMutationType(),i||c?(this.addHistory(n),i&&(s=i.getFields(),a=Object.keys(s).map(function(e){return Object(l.a)({},s[e])})),c&&(f=c.getFields(),o=Object.keys(f).map(function(e){return Object(l.a)({},f[e])})),this.setState({schema:r,queries:a,mutations:o})):this.showLinkError(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),this.showLinkError();case 17:case"end":return e.stop()}var u},e,this,[[5,14]])}));return function(n){return e.apply(this,arguments)}}()},{key:"_renderResult",value:function(){var e=this.state,n=e.schemaTemplate,t=e.typescript;return a.a.createElement(b.a,{style:{display:"flex",flexDirection:"column"},direction:"vertical",sizes:[50,50]},a.a.createElement("div",null,a.a.createElement("h1",null,"GraphQL"),a.a.createElement(ge,{value:n})),a.a.createElement("div",null,a.a.createElement("h1",null,"Typescript"),a.a.createElement(ge,{value:t})))}},{key:"_renderHistory",value:function(){var e=this,n=this.state,t=n.histories,r=n.uri;return a.a.createElement(X,{histories:t,uri:r,onSelect:function(n){return e.handleSubmit(n)},onRemove:function(n){return e.removeHistory(n)}})}},{key:"_renderForm",value:function(){var e=this,n=this.state.uri;return a.a.createElement(be,{className:"form",onSubmit:function(t){t.preventDefault(),e.handleSubmit(n)}},a.a.createElement(S,{placeholder:"GraphQL URL...",value:n,onChange:function(n){return e.setState({uri:n.target.value})}}),a.a.createElement(H,{type:"submit",value:"Submit"}))}},{key:"_renderSchema",value:function(){var e=this,n=this.state,t=n.queries,r=n.mutations;return a.a.createElement(le,{queries:t,mutations:r,onSelect:function(n,t){return e.setState({schemaType:n,schemaSelected:t},function(){var r=V(n,t),a=W(t);console.log(a),e.setState({schemaTemplate:r,typescript:a})})}})}},{key:"render",value:function(){return a.a.createElement(j,{theme:w},a.a.createElement(a.a.Fragment,null,a.a.createElement(pe,null),a.a.createElement(me,null,a.a.createElement(b.a,{style:{display:"flex",flexDirection:"row",height:"100%"},direction:"horizontal",sizes:[33,33,34]},a.a.createElement(ve,null,this._renderForm(),this._renderHistory()),a.a.createElement(ve,null,this._renderSchema()),a.a.createElement(ve,null,this._renderResult())))))}}]),n}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(xe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[169,1,2]]]);
//# sourceMappingURL=main.a14380c8.chunk.js.map